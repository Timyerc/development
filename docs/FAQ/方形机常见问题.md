# 方形机常见问题

## 蓝灯常亮，红灯闪烁 @Justin

---

浮动开关异常

可能原因以及排查方法：

首先确定是否有浮动开关探测脚漏在无边玻璃外边或者被抬起，如出现这个问题机器无法恢复，则会报此错误；如不存在这个问题，则按下方步骤排查。

在未开机状态下把机器底部朝上，分别触发各个浮动开关，看红灯是否闪烁对应次数。

如下图为机器底部朝向面部，箭头方向为机器头部方向（向上或者向左的头部），四个角的数字代表触发对应浮动开关红灯闪烁的次数。

```
2------------1
|     ^      |
|    / \     |
|     |      |
|     |      |
4------------3
```

如发现浮动开关有异常，按照下方步骤排查：

- 确定是否是浮动开关本身异常，替换浮动开关对比测试
- 确定是否是连接线异常，替换连接线对比测试
- 确定是否是结构异常，导致浮动开关异常触发，排查结构问题

如浮动开关有时好有时坏，需使用治具或者万用表测试，看电流和电压数据。

测试信号脚和接地脚的电压，在浮动开关中间无遮挡时电压应接近0V，有遮挡时应接近3.3V。

> 如何确定信号脚和接地脚？
>
> 浮动开关一般有四个脚，其中两个连接在一起的是公共接地脚。另外两个一个是发射信号脚，一个是接收信号脚，我们这里需要测试接收信号脚。发射信号脚不管是否触发电压都不变，接收信号脚会有变化。

![image](image/faq-square-1.gif)